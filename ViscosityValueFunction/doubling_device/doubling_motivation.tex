The example in subsection \ref{naive} deters us from decomposing a superdifferential of $ w = u - v $ in $ (t_0, x_0) $, using super-and subdifferentials of $ u $ and $ v $ in the same point $ (t_0, x_0) $, as $ D^{+}u(t_0, x_0) $ or $ D^{-}v(t_0, x_0) $ might be empty. Suppose we contented ourselves with points $ (t, x) $ in any arbitrarily small vicinity $ B_R(t_0, x_0) $ of $ (t_0, x_0) $, s.t. $ D^{+}u(t, x) $ is non-empty. For any smooth function $ \varphi $, we are sure that $ u - \varphi $ attains a global maximum over $ \overline{B}_R(t_0, x_0) $ in some point $ (t, x) $. But since $ (t, x) $ might lie on the boundary of $ \overline{B}_R(t, x) $, it is not clear whether $ (t, x) $ is also a local maximizer with respect to the whole domain $ \left( 0, T \right) \times \mathbb{R}^{N} $. To avoid this phenomena, construct $ \varphi $ in a way which penalizes the distance from $ (t_0, x_0) $. To make this idea more concrete, consider the proof of the following theorem.
		
		\begin{theorem}
			\label{density}
			Let $ \Omega \subset \mathbb{R}^{N} $ be an open domain, and $ u : \Omega \to \mathbb{R} $ a continuous function. The set
			
			\begin{equation*}
				\big\{ x \in \Omega : D^{+}u(x) \neq \emptyset \big\}
			\end{equation*}
			
			is dense in $ \Omega $. The same applies when $ D^{+}u(x) $ is replaced by $ D^{-}u(x) $.
			
			\begin{proof}
				We restate the proof of Lemma 1.8 in \cite[p.~30]{bardi2008optimal}. Let $ \overline{x} \in \Omega $ and consider the smooth function $ \varphi_{\varepsilon}(x) = \lvert x - \overline{x} \rvert^2 /  \varepsilon $. For any $ \varepsilon > 0 $, the function $ u - \varphi_{\varepsilon} $ attains its maximum over $ \overline{B} = \overline{B}_R(\overline{x}) $, in some point $ x_{\varepsilon} $. From the inequality
				
				\begin{equation*}
					\varphi_{\varepsilon}(x_{\varepsilon}) \geq \varphi_{\varepsilon}(\overline{x}) = u(\overline{x})
				\end{equation*}
				
				we get that
				
				\begin{equation*}
					\lvert x_{\varepsilon} - \overline{x} \rvert^2 \leq 2 \varepsilon \sup\limits_{x \in \overline{B}} \lvert u(x) \rvert 
				\end{equation*}
				
				for all $ \varepsilon > 0 $. Thus $ x_{\varepsilon} $ does not lie on the boundary of $ \overline{B} $ for $ \varepsilon $ small enough, and $ D\varphi(x_{\varepsilon}) = 2(x_{\varepsilon} - \overline{x}) / \varepsilon $ belongs to $ D^{+}u(x_{\varepsilon}) $. Similar arguments prove the claim for subdifferentials.
			\end{proof}
		\end{theorem}
	
	\begin{remark}
		\label{special_differentials}
		The proof of theorem \ref{density} actually shows that in any vicinity of $ \overline{x} $, there is a point $ x_{\varepsilon} $, which admits a sub-(super)differential of the form $ \lvert x_{\varepsilon} - \overline{x} \rvert / \varepsilon $.
	\end{remark}
	
		